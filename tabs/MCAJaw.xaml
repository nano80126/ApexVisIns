<StackPanel x:Class="MCAJawIns.Tab.MCAJaw" 
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" 
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
            xmlns:app="clr-namespace:MCAJawIns" 
            xmlns:local="clr-namespace:MCAJawIns.Tab"
            xmlns:ctrl="clr-namespace:MCAJawIns.Control" 
            xmlns:sys="clr-namespace:System;assembly=mscorlib" 
            xmlns:ctProperty="clr-namespace:MCAJawIns.CustomProperty" 
            xmlns:pd="clr-namespace:MCAJawIns.Product"
            xmlns:Sysinfo="clr-namespace:SystemInfo;assembly=SystemInfo"

            d:DataContext="{d:DesignInstance Type=local:MCAJaw}" 
            mc:Ignorable="d"
            Loaded="StackPanel_Loaded" 
            d:DesignHeight="900" 
            d:DesignWidth="1600" 
            UseLayoutRounding="False" 
            Orientation="Vertical">
    <StackPanel.Resources>
        <!--檢驗物件，綁定批號-->
        <pd:JawInspection x:Key="JawInspection" />
        <!--檢驗結果群組-->
        <pd:JawResultGroup x:Key="SpecGroup" />
        <!--尺寸規格集合-->
        <pd:JawSizeSpecList x:Key="JawSizeSpecList" />
        <!--狀態顏色 Converter (MCA Jaw 專用)-->
        <local:MCAJawStatusColorConverter x:Key="MCAJawStatusColorConverter" />
    </StackPanel.Resources>

    <DockPanel x:Name="ToolBarPanel" HorizontalAlignment="Stretch" Background="#22969696">
        <!--#region Toolbar 1 -->
        <ToolBarTray DockPanel.Dock="Left" HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="0 -1" ClipToBounds="True" Background="{x:Null}">
            <ToolBar HorizontalAlignment="Left" VerticalAlignment="Center" Padding="0 0" ToolBarTray.IsLocked="True" Focusable="False" Background="{x:Null}"
                    Style="{StaticResource MaterialDesignToolBar}">
                <ToolBar.Resources>
                    <!--<Style></Style>-->
                </ToolBar.Resources>

                <!--#region Title -->
                <TextBlock Margin="12 0 0 0" VerticalAlignment="Bottom" FontWeight="Bold" FontFamily="consolas" Foreground="{StaticResource ColorInfo}" Text="{Binding JawType, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}, UpdateSourceTrigger=PropertyChanged ,
                    Converter={StaticResource EnumDescriptionConverter}, StringFormat={}{0} 檢驗系統}">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="FontSize" Value="{StaticResource Title-sm}" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}}"
                                        Value="Maximized">
                                    <Setter Property="FontSize" Value="{StaticResource Title}" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
                <!--//-->
                <TextBlock Margin="12 0 0 0" VerticalAlignment="Bottom" FontWeight="Bold" FontFamily="consolas" Foreground="{StaticResource ColorPrimaryTransparent}"
                        Text="{Binding SystemInfoTab.Env.SoftVer, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=app:MainWindow, AncestorLevel=1}, StringFormat={}Ver. {0}}">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="FontSize" Value="{StaticResource Title-xs}" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}}"
                                        Value="Maximized">
                                    <Setter Property="FontSize" Value="{StaticResource Title-sm}"></Setter>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
                <!--#endregion-->
                
                <Separator Margin="12 4" />
                <!--//-->
                <ListBox x:Name="TabSelector" Background="Transparent" materialDesign:ListBoxAssist.IsToggle="False"
                        SelectedIndex="{Binding JawTab, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:MCAJaw, AncestorLevel=1}}">
                    <ListBox.Resources>
                        <Style TargetType="TextBlock">
                            <Setter Property="FontSize" Value="{StaticResource Header-xs}" />
                            <Setter Property="VerticalAlignment" Value="Center" />
                            <Setter Property="FontWeight" Value="SemiBold" />
                            <Setter Property="FontFamily" Value="微軟正黑體" />
                            <!--//-->
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}, AncestorLevel=1}}"
                                        Value="Maximized">
                                    <Setter Property="FontSize" Value="{StaticResource Header-sm}" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                        <!--//-->
                        <Style TargetType="ToolTip" BasedOn="{StaticResource MaterialDesignToolTip}">
                            <Setter Property="VerticalAlignment" Value="Center" />
                            <Setter Property="Padding" Value="8 5" />
                        </Style>
                    </ListBox.Resources>
                    <!--//-->
                    <ListBoxItem Padding="16 4" Cursor="Hand">
                        <ListBoxItem.ToolTip>
                            <TextBlock Text="檢驗畫面" />
                        </ListBoxItem.ToolTip>
                        <!--//-->
                        <materialDesign:PackIcon Kind="ViewGrid" Width="28" Height="24" Foreground="{StaticResource ColorPrimary}" />
                    </ListBoxItem>
                    <ListBoxItem Padding="16 4" Cursor="Hand" IsEnabled="{Binding AuthLevel, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}, 
                            Converter={StaticResource NumberGreaterConvert}, ConverterParameter=2, UpdateSourceTrigger=PropertyChanged}">
                        <ListBoxItem.ToolTip>
                            <TextBlock Text="規格設定" />
                        </ListBoxItem.ToolTip>
                        <!--//-->
                        <materialDesign:PackIcon Kind="PlaylistEdit" Width="28" Height="24" Foreground="{StaticResource ColorPrimary}" />
                    </ListBoxItem>
                </ListBox>
                <!--//-->
                <Separator Margin="12 4" />

                <!--<Button Content="測試" Click="Button_Click" Style="{StaticResource MaterialDesignToolButton}" Visibility="Visible"/>-->

                <!--
                <Button Margin="0 0 12 0" VerticalAlignment="Center" Content="單張擷取" Foreground="{StaticResource ColorTeal}" 
                        Style="{StaticResource MaterialDesignToolButton}" Click="SingleGrab_Click"/>
                <Button Margin="0 0 12 0" VerticalAlignment="Center" Content="連續拍攝" Foreground="{StaticResource ColorSuccess}"
                        Style="{StaticResource MaterialDesignToolButton}" Click="StartContinuousGrab_Click"/>
                <Button Margin="0 0 12 0" VerticalAlignment="Center" Content="停止拍攝" Foreground="{StaticResource ColorInfo}"
                        Style="{StaticResource MaterialDesignToolButton}" Click="StopContinuousGrab_Click"/>
                <Button Margin="0 0 12 0" VerticalAlignment="Center" Content="觸發拍照" Foreground="{StaticResource ColorPrimary}"
                        Style="{StaticResource MaterialDesignToolButton}" Click="CameraTrigger_Click"/>
                -->
                
            </ToolBar>
        </ToolBarTray>
        <!--#endregion-->

        <!--#region Toolbar 2 -->
        <ToolBarTray DockPanel.Dock="Right" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0 -1" ClipToBounds="True" Background="{x:Null}"
                FlowDirection="RightToLeft">
            <ToolBar HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0 0" ToolBarTray.IsLocked="True" Focusable="False" Background="{x:Null}"
                    FlowDirection="RightToLeft" Style="{StaticResource MaterialDesignToolBar}">
                <!--#region Resources -->
                <ToolBar.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="VerticalAlignment" Value="Center" />
                        <!--<Setter Property="Padding" Value="0 0" />-->
                        <Setter Property="Height" Value="28" />
                        <Setter Property="BorderBrush" Value="DarkBlue" />
                        <Setter Property="BorderThickness" Value="1" />
                        <Setter Property="CornerRadius" Value="8" />
                    </Style>
                    <!--//-->
                    <Style TargetType="Canvas" BasedOn="{StaticResource ComplexPackIcon}">
                        <Setter Property="FlowDirection" Value="LeftToRight" />
                        <Setter Property="Margin" Value="8 0" />
                        <Setter Property="Background" Value="Transparent" />
                    </Style>
                    <!-- Hardware Status-->
                    <Style TargetType="materialDesign:PackIcon" x:Key="HWStatus">
                        <Setter Property="Width" Value="16" />
                        <Setter Property="Height" Value="16" />
                        <Setter Property="Canvas.Right" Value="0" />
                        <Setter Property="Canvas.Bottom" Value="0" />
                        <!--//-->
                        <Setter Property="Kind" Value="CloseCircle" />
                        <Setter Property="Foreground" Value="{StaticResource ColorError}" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding (ctProperty:StatusHelper.Connected), RelativeSource={RelativeSource Mode=Self}}" Value="True">
                                <Setter Property="Kind" Value="CheckCircle" />
                                <Setter Property="Foreground" Value="{StaticResource ColorSuccess}" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                    <!-- Camera Status-->
                    <Style TargetType="materialDesign:PackIcon" x:Key="CamStatus" BasedOn="{StaticResource HWStatus}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding (ctProperty:StatusHelper.IsGrabbing), RelativeSource={RelativeSource Mode=Self}}" Value="True">
                                <Setter Property="Kind" Value="CameraImage" />
                                <Setter Property="Foreground" Value="{StaticResource ColorTeal}" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </ToolBar.Resources>
                <!--#endregion-->

                <!--#region Database Status -->
                <Border Margin="0 0 12 0" FlowDirection="LeftToRight">
                    <StackPanel Orientation="Horizontal">
                        <Canvas ToolTip="資料庫">
                            <materialDesign:PackIcon Kind="Database" Canvas.Left="2" Canvas.Top="0" Width="24" Height="24" />
                            <materialDesign:PackIcon Canvas.Right="-1" Canvas.Bottom="-1" Style="{StaticResource HWStatus}"
                                    ctProperty:StatusHelper.Connected="{Binding Connected, Source={StaticResource MongoAccess}, UpdateSourceTrigger=PropertyChanged}" />
                        </Canvas>
                    </StackPanel>
                </Border>
                <!--#endregion-->

                <!--#region IO Ctrl Status -->
                <Border Margin="0 0 12 0" FlowDirection="LeftToRight">
                    <StackPanel Orientation="Horizontal">
                        <Canvas ToolTip="IO 控制器">
                            <materialDesign:PackIcon Kind="LightningBolt" Canvas.Left="2" Canvas.Top="0" Width="24" Height="24" />
                            <materialDesign:PackIcon Canvas.Right="-1" Canvas.Bottom="-1" Style="{StaticResource HWStatus}"
                                    ctProperty:StatusHelper.Connected="{Binding Conneected, Source={StaticResource ModbusTCPIO}, UpdateSourceTrigger=PropertyChanged}" />
                        </Canvas>
                    </StackPanel>
                </Border>
                <!--#endregion-->

                <!--#region Light Ctrl Status -->
                <Border Margin="0 0 12 0" Height="28" FlowDirection="LeftToRight">
                    <StackPanel Orientation="Horizontal">
                        <Canvas ToolTip="光源控制器">
                            <materialDesign:PackIcon Kind="LightbulbOnOutline" Canvas.Left="2" Canvas.Top="0" Width="24" Height="24" />
                            <materialDesign:PackIcon Canvas.Right="-1" Canvas.Bottom="-1" Style="{StaticResource HWStatus}"
                                    ctProperty:StatusHelper.Connected="{Binding [1].IsComOpen, Source={StaticResource LightCtrls}, UpdateSourceTrigger=PropertyChanged}" />
                        </Canvas>
                    </StackPanel>
                </Border>
                <!--#endregion-->

                <!--#region Camera Status -->
                <Border Height="28" FlowDirection="LeftToRight">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Canvas ToolTip="Camera 1">
                            <materialDesign:PackIcon Kind="VideoOutline" Canvas.Left="2" Canvas.Top="0" Width="24" Height="24" />
                            <materialDesign:PackIcon Canvas.Right="-1" Canvas.Bottom="-1" Style="{StaticResource CamStatus}"
                                    ctProperty:StatusHelper.Connected="{Binding [0].IsOpen, Source={StaticResource BaslerCams}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay, FallbackValue=False}"
                                    ctProperty:StatusHelper.IsGrabbing="{Binding [0].IsGrabbing, Source={StaticResource BaslerCams}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay, FallbackValue=False}" />
                        </Canvas>
                        <!--//-->
                        <Canvas ToolTip="Camera 2">
                            <materialDesign:PackIcon Kind="VideoOutline" Canvas.Left="2" Canvas.Top="0" Width="24" Height="24" />
                            <materialDesign:PackIcon Canvas.Right="-1" Canvas.Bottom="-1" Style="{StaticResource CamStatus}"
                                    ctProperty:StatusHelper.Connected="{Binding [1].IsOpen, Source={StaticResource BaslerCams}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay, FallbackValue=False}"
                                    ctProperty:StatusHelper.IsGrabbing="{Binding [1].IsGrabbing, Source={StaticResource BaslerCams}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay, FallbackValue=False}" />
                        </Canvas>
                        <!--//-->
                        <Canvas ToolTip="Camera 3">
                            <materialDesign:PackIcon Kind="VideoOutline" Canvas.Left="2" Canvas.Top="0" Width="24" Height="24" />
                            <materialDesign:PackIcon Canvas.Right="-1" Canvas.Bottom="-1" Style="{StaticResource CamStatus}"
                                    ctProperty:StatusHelper.Connected="{Binding [1].IsOpen, Source={StaticResource BaslerCams}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay, FallbackValue=False}"
                                    ctProperty:StatusHelper.IsGrabbing="{Binding [1].IsGrabbing, Source={StaticResource BaslerCams}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay, FallbackValue=False}" />
                        </Canvas>
                    </StackPanel>
                </Border>
                <!--#endregion-->

                <!--#region Time -->
                <!--<TextBlock VerticalAlignment="Center" FontSize="{StaticResource Header-xl}" FlowDirection="LeftToRight"
                        DataContext="{Binding SystemInfoTab.Env, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}}"
                        d:DataContext="{d:DesignInstance Type={x:Type Sysinfo:Env}}">
                    <Run Text="{Binding SystemDate, Mode=OneWay}" />
                    <Run Text="{Binding SystemTime, Mode=OneWay}" />
                </TextBlock>-->
                <!--#endregion-->

            </ToolBar>
        </ToolBarTray>
        <!--#endregion-->
    </DockPanel>

    <TabControl x:Name="MCAJawTab" Padding="0" VerticalAlignment="Top" HorizontalAlignment="Stretch"
                materialDesign:ColorZoneAssist.Mode="Custom" BorderThickness="0" BorderBrush="{x:Null}"
                SelectedIndex="{Binding JawTab, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=local:MCAJaw, AncestorLevel=1}}">
        <!--#region Tab1 -->
        <TabItem Header="{x:Null}" Height="0" Margin="0">
            <Border x:Name="ContentBorder" BorderBrush="{StaticResource ColorGray}" BorderThickness="0 1" Background="AliceBlue" VerticalAlignment="Top" Margin="0 -2 0 0">
                <Grid x:Name="Content" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="0 0">
                    <!--#region Style -->
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Setter Property="Height" Value="780" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}, Mode=OneWay}"
                                        Value="Maximized">
                                    <Setter Property="Height" Value="960" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <!--#endregion-->

                    <!--#region Layout -->
                    <Grid.RowDefinitions>
                        <RowDefinition Height="13*" />
                        <RowDefinition Height="8*" />
                        <!--<RowDefinition Height="2*"></RowDefinition>-->
                    </Grid.RowDefinitions>
                    <!--//-->
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*" />
                        <ColumnDefinition Width="4*" />
                        <ColumnDefinition Width="4*" />
                        <!--<ColumnDefinition Width="4*"/>-->
                    </Grid.ColumnDefinitions>
                    <!--#endregion-->

                    <!--#region Control Panel -->
                    <Border Grid.Row="0" Grid.RowSpan="100" Grid.Column="0" Background="{x:Null}" DataContext="{StaticResource JawInspection}">
                        <materialDesign:Card Style="{StaticResource GeneralCard}">
                            <DockPanel Background="Transparent" MouseDown="DockPanel_MouseDown">
                                <!--Panel Header-->
                                <DockPanel x:Name="Header" DockPanel.Dock="Top">
                                    <materialDesign:PackIcon Kind="ControllerClassic" Width="28" Height="24" Background="Transparent" VerticalAlignment="Bottom" />
                                    <!--  -->
                                    <TextBlock FontWeight="Bold" VerticalAlignment="Bottom" FontSize="{StaticResource Title-sm}" Text="主控板" Style="{StaticResource MaterialDesignSubtitle1TextBlock}" />
                                    <!--  -->
                                    <!--<TextBlock Text="{x:Null}" />-->
                                    <TextBlock DockPanel.Dock="Right" HorizontalAlignment="Right" VerticalAlignment="Bottom" FontSize="{StaticResource Header-xl}"
                                            FontWeight="SemiBold" FontFamily="consolas"
                                            DataContext="{Binding SystemInfoTab.Env, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}}"
                                            d:DataContext="{d:DesignInstance Type={x:Type Sysinfo:Env}}">
                                        <Run Text="{Binding SystemDate, Mode=OneWay, StringFormat={}{0}}" />
                                        <Run Text="{Binding SystemTime, Mode=OneWay, StringFormat={}{0}}" />
                                    </TextBlock>
                                </DockPanel>
                                <!-- Seperator -->
                                <Separator DockPanel.Dock="Top" Margin="0 8" />
                                <!--Panel Body-->
                                <Grid x:Name="Body" DockPanel.Dock="Top">
                                    <!--#region Resources -->
                                    <Grid.Resources>
                                        <Style x:Key="MainPanelTextBox" TargetType="{x:Type TextBox}" BasedOn="{StaticResource MaterialDesignOutlinedTextBox}">
                                            <Setter Property="HorizontalAlignment" Value="Stretch" />
                                            <Setter Property="VerticalAlignment" Value="Center" />
                                            <Setter Property="TextAlignment" Value="Center" />
                                            <Setter Property="Height" Value="28" />
                                            <Setter Property="FontSize" Value="{StaticResource BasicFont}" />
                                            <Setter Property="FontWeight" Value="SemiBold" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Window,AncestorLevel=1}}"
                                                        Value="Maximized">
                                                    <Setter Property="Height" Value="32" />
                                                    <Setter Property="FontSize" Value="{StaticResource BasicFont-lg}" />
                                                </DataTrigger>
                                            </Style.Triggers>

                                        </Style>
                                        <!--//-->
                                        <Style x:Key="MainPanelButton" TargetType="{x:Type Button}" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
                                            <Setter Property="VerticalAlignment" Value="Center" />
                                            <Setter Property="VerticalContentAlignment" Value="Center" />
                                            <Setter Property="Height" Value="28" />
                                            <Setter Property="Padding" Value="16 0" />
                                            <Setter Property="FontSize" Value="{StaticResource BasicFont}" />
                                            <Setter Property="FontWeight" Value="SemiBold" />
                                            <Setter Property="materialDesign:ButtonAssist.CornerRadius" Value="5" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Window,AncestorLevel=1}}"
                                                        Value="Maximized">
                                                    <Setter Property="Height" Value="32" />
                                                    <Setter Property="FontSize" Value="{StaticResource BasicFont-lg}" />
                                                </DataTrigger>
                                            </Style.Triggers>

                                            <Style.Resources>
                                                <Style TargetType="{x:Type TextBlock}">
                                                    <Setter Property="VerticalAlignment" Value="Center" />
                                                    <Setter Property="Padding" Value="0 2 0 0" />
                                                    <Setter Property="FontWeight" Value="SemiBold" />
                                                </Style>
                                            </Style.Resources>
                                        </Style>
                                    </Grid.Resources>
                                    <!--#endregion-->

                                    <!--#region Layout -->
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="1*" />
                                        <!--<RowDefinition Height="1*"/>-->
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <!--//-->
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="3*" />
                                        <ColumnDefinition Width="4*" />
                                    </Grid.ColumnDefinitions>
                                    <!--#endregion-->

                                    <!--#region 1st row  -->
                                    <!-- Control Panel, 1st row, 1st col, 檢驗狀態-->
                                    <Border Grid.Row="0" Grid.Column="0" BorderBrush="Black" BorderThickness="1" CornerRadius="10" Margin="0 0 8 0" SnapsToDevicePixels="True">
                                        <TextBlock x:Name="StatusLabel" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" Padding="0 2 0 0"
                                                FontSize="{StaticResource Title-xl}" FontWeight="Bold"
                                                Text="{Binding Status, RelativeSource={RelativeSource AncestorType=local:MCAJaw, Mode=FindAncestor, AncestorLevel=1}, Converter={StaticResource EnumDescriptionConverter}}"
                                                Foreground="{Binding Status,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=local:MCAJaw,AncestorLevel=1}, Converter={StaticResource MCAJawStatusColorConverter}}" />
                                    </Border>

                                    <!--Control Panel, 1st row, 2nd row-->
                                    <Grid Grid.Row="0" Grid.Column="1" Margin="8 0 0 0" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="1*" />
                                            <RowDefinition Height="1*" />
                                        </Grid.RowDefinitions>

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*" />
                                            <ColumnDefinition Width="auto" />
                                        </Grid.ColumnDefinitions>
                                        <!--//-->
                                        <TextBox x:Name="LotText" Grid.Row="0" Grid.Column="0" VerticalContentAlignment="Center" Margin="0 0 0 0" Padding="8 0"
                                                materialDesign:TextFieldAssist.PrefixText="Lot" materialDesign:HintAssist.Hint="Lot" materialDesign:HintAssist.IsFloating="False"
                                                Text="{Binding Path=LotNumber, Source={StaticResource JawInspection}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource MainPanelTextBox}" />
                                        <!--//-->
                                        <Button Grid.Row="0" Grid.Column="1" Margin="8 0 0 0" Padding="8 0" Focusable="False" SnapsToDevicePixels="True"
                                                Click="LotNumberCheckButton_Click">
                                            <Button.Style>
                                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource MainPanelButton}">
                                                    <Setter Property="Foreground" Value="{StaticResource ColorOrange}" />
                                                    <Setter Property="BorderBrush" Value="{StaticResource ColorOrange}" />
                                                    <Setter Property="Content">
                                                        <Setter.Value>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="確認" />
                                                                <materialDesign:PackIcon Margin="4 0 0 0" VerticalAlignment="Center" Kind="ExclamationBold" />
                                                            </StackPanel>
                                                        </Setter.Value>
                                                    </Setter>
                                                    <!--//-->
                                                    <Style.Triggers>
                                                        <DataTrigger
                                                                Binding="{Binding LotNumberChecked, Source={StaticResource JawInspection}, UpdateSourceTrigger=PropertyChanged}"
                                                                Value="True">
                                                            <Setter Property="Foreground" Value="{StaticResource ColorSuccess}" />
                                                            <Setter Property="BorderBrush" Value="{StaticResource ColorSuccess}" />
                                                            <Setter Property="Content">
                                                                <Setter.Value>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <TextBlock Text="確認" />
                                                                        <materialDesign:PackIcon Margin="4 0 0 0" VerticalAlignment="Center" Kind="CheckBold" />
                                                                    </StackPanel>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Button.Style>
                                        </Button>

                                        <Button Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" VerticalAlignment="Bottom" Margin="0 12 0 0" SnapsToDevicePixels="True"
                                                materialDesign:ButtonAssist.CornerRadius="5" Style="{StaticResource MainPanelButton}" Foreground="{StaticResource ColorIndigo}"
                                                BorderBrush="{StaticResource ColorIndigo}" Click="ResetCount_Click">
                                            <!--#region CommandParameter -->
                                            <Button.CommandParameter>
                                                <DockPanel MaxWidth="300" Margin="16" Background="Transparent">
                                                    <DockPanel.Resources>
                                                        <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
                                                            <Setter Property="Foreground" Value="{StaticResource ColorInfo}" />
                                                            <Setter Property="BorderBrush" Value="{StaticResource ColorInfo}" />
                                                            <Style.Triggers>
                                                                <Trigger Property="IsFocused" Value="True">
                                                                    <Setter Property="Foreground" Value="{StaticResource ColorCyan}" />
                                                                    <Setter Property="BorderBrush" Value="{StaticResource ColorCyan}" />
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </DockPanel.Resources>

                                                    <WrapPanel DockPanel.Dock="Top" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0 0 0 12">
                                                        <materialDesign:PackIcon VerticalAlignment="Center" Height="28" Width="28" Margin="0 0 8 0" Kind="AlertCircleOutline"
                                                                Foreground="{StaticResource ColorWarning}" />
                                                        <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="{StaticResource Header}"
                                                                Text="該批資料尚未儲存，是否確定歸零數量？" TextWrapping="WrapWithOverflow" Width="260" />
                                                    </WrapPanel>

                                                    <Button DockPanel.Dock="Right" HorizontalAlignment="Right" Content="取消"
                                                            Command="{x:Static materialDesign:DialogHost.CloseDialogCommand}">
                                                        <Button.CommandParameter>
                                                            <sys:Boolean>False</sys:Boolean>
                                                        </Button.CommandParameter>
                                                    </Button>

                                                    <Button DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="12 0" Content="確定" TabIndex="0"
                                                            Command="{x:Static materialDesign:DialogHost.CloseDialogCommand}">
                                                        <Button.CommandParameter>
                                                            <sys:Boolean>True</sys:Boolean>
                                                        </Button.CommandParameter>
                                                    </Button>
                                                </DockPanel>
                                            </Button.CommandParameter>
                                            <!--#endregion-->
                                            <TextBlock Text="歸零檢測數量" />
                                        </Button>
                                    </Grid>
                                    <!--#endregion-->

                                    <Separator Grid.Row="1" Grid.ColumnSpan="100" Margin="0 8 0 4" />

                                    <!--#region 2nd row -->
                                    <Grid Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="100" Margin="0">
                                        <!--#region Resources -->
                                        <Grid.Resources>
                                            <Style TargetType="TextBlock" x:Key="Header">
                                                <Setter Property="FontSize" Value="{StaticResource Header}" />
                                                <Setter Property="FontWeight" Value="Bold" />
                                                <Setter Property="Foreground" Value="{StaticResource ColorGray}" />
                                                <!--//-->
                                                <Style.Triggers>
                                                    <DataTrigger
                                                            Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}, AncestorLevel=1}}"
                                                            Value="Maximized">
                                                        <Setter Property="FontSize" Value="{StaticResource Header-lg}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                            <!--//-->
                                            <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource Header}" x:Key="ItemText">
                                                <Setter Property="HorizontalAlignment" Value="Right" />
                                                <Setter Property="VerticalAlignment" Value="Center" />
                                                <Setter Property="Margin" Value="0 0" />
                                                <Setter Property="Padding" Value="0 0 " />
                                                <Setter Property="FontSize" Value="{StaticResource BasicFont}" />
                                                <Setter Property="FontWeight" Value="Bold" />
                                                <!--//-->
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}, 
                                                        AncestorLevel=1}}" Value="Maximized">
                                                        <Setter Property="FontSize" Value="{StaticResource BasicFont-lg}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                            <!--//-->
                                            <Style TargetType="TextBlock" BasedOn="{StaticResource ItemText}" x:Key="ItemNoteText">
                                                <Setter Property="HorizontalAlignment" Value="Center" />
                                                <Setter Property="VerticalAlignment" Value="Center" />
                                                <Setter Property="FontSize" Value="{StaticResource BasicFont}" />
                                                <Setter Property="FontWeight" Value="SemiBold" />
                                                <!--//-->
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}, 
                                                        AncestorLevel=1}}" Value="Maximized">
                                                        <Setter Property="FontSize" Value="{StaticResource BasicFont-lg}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                            <!--//-->
                                            <Style TargetType="{x:Type Button}" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
                                                <Setter Property="VerticalAlignment" Value="Center" />
                                                <Setter Property="Margin" Value="0 0" />
                                                <Setter Property="Padding" Value="0 0" />
                                                <Setter Property="Width" Value="24" />
                                                <Setter Property="Height" Value="24" />
                                                <Setter Property="Background" Value="{StaticResource ColorGrayTransparent}" />
                                                <Setter Property="SnapsToDevicePixels" Value="True" />
                                                <!--//-->
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}, 
                                                        AncestorLevel=1}}" Value="Maximized">
                                                        <Setter Property="Width" Value="28" />
                                                        <Setter Property="Height" Value="28" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                            <!--//-->
                                            <Style TargetType="{x:Type TextBox}" BasedOn="{StaticResource MaterialDesignOutlinedTextBox}">
                                                <Setter Property="HorizontalAlignment" Value="Stretch" />
                                                <Setter Property="VerticalAlignment" Value="Center" />
                                                <Setter Property="VerticalContentAlignment" Value="Center" />
                                                <Setter Property="Margin" Value="1 4" />
                                                <Setter Property="Height" Value="24" />
                                                <Setter Property="FontSize" Value="{StaticResource BasicFont}" />
                                                <Setter Property="TextAlignment" Value="Center" />
                                                <Setter Property="IsReadOnly" Value="True" />
                                                <Setter Property="Cursor" Value="Arrow" />
                                                <!--//-->
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}, 
                                                        AncestorLevel=1}}" Value="Maximized">
                                                        <Setter Property="Height" Value="28" />
                                                        <Setter Property="FontSize" Value="{StaticResource BasicFont-lg}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Resources>
                                        <!--#endregion-->

                                        <!--#region Layout -->
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto" Tag="Row1" />
                                            <!--header -->
                                            <RowDefinition Height="auto" Tag="FrontHeader" />
                                            <!--separator-->
                                            <RowDefinition Height="auto" Tag="FrontSeparator" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />

                                            <!--header   -->
                                            <RowDefinition Height="auto" Tag="BackHeader" />
                                            <!--separator-->
                                            <RowDefinition Height="auto" Tag="BackSeparator" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />
                                            <RowDefinition Height="auto" />

                                            <!--header-->
                                            <RowDefinition Height="auto" Tag="SideHeader" />
                                            <!--separator-->
                                            <RowDefinition Height="auto" Tag="SideSeparator" />
                                            <RowDefinition Height="auto" />
                                        </Grid.RowDefinitions>
                                        <!--//-->
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="3*" />
                                            <ColumnDefinition Width="4*" />
                                            <ColumnDefinition Width="auto" />
                                            <ColumnDefinition Width="2*" />
                                            <ColumnDefinition Width="auto" />
                                        </Grid.ColumnDefinitions>
                                        <!--#endregion-->

                                        <!--#region 良品 -->
                                        <TextBlock Grid.Row="0" Grid.Column="0" Foreground="{StaticResource ColorSuccess}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[good].Name, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[good].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="0" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[good].Note, UpdateSourceTrigger=PropertyChanged}" />
                                        <Button Grid.Row="0" Grid.Column="2" Click="MinusButton_Click" CommandParameter="good" Content="{materialDesign:PackIcon Kind=Minus}" />
                                        <TextBox Grid.Row="0" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[good].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}" />
                                        <Button Grid.Row="0" Grid.Column="4" Click="PlusButton_Click" CommandParameter="good" Content="{materialDesign:PackIcon Kind=Plus}" />
                                        <!--#endregion-->

                                        <TextBlock Grid.Row="1" Margin="8 0 0 0" Text="下部" VerticalAlignment="Center" Style="{StaticResource Header}" />
                                        <Separator Grid.Row="2" Grid.ColumnSpan="100" Margin="8 4 0 4" />

                                        <!--#region 0.088R -->
                                        <TextBlock Grid.Row="3" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.088R].Name,StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.088R].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="3" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.088R].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.088R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="3" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.088R" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.088R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="3" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.088R].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.088R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="3" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.088R" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.088R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.088L -->
                                        <TextBlock Grid.Row="4" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.088L].Name ,StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.088L].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="4" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.088L].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.088L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="4" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.088L" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.088L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="4" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.088L].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.088L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="4" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.088L" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.088L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.088合 -->
                                        <TextBlock Grid.Row="5" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.176].Name ,StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.176].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="5" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.176].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.176].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="5" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.176" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.176].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="5" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.176].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.176].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="5" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.176" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.176].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 後開 -->
                                        <TextBlock Grid.Row="6" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[back].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[back].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="6" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[back].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[back].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="6" Grid.Column="2" Click="MinusButton_Click" CommandParameter="back" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[back].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="6" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[back].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[back].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="6" Grid.Column="4" Click="PlusButton_Click" CommandParameter="back" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[back].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <TextBlock Grid.Row="7" Margin="8 0 0 0" Text="前部" VerticalAlignment="Center" Style="{StaticResource Header}" />
                                        <Separator Grid.Row="8" Grid.ColumnSpan="100" Margin="8 4 0 4" />

                                        <!--#region 0.008R -->
                                        <TextBlock Grid.Row="9" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.008R].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.008R].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="9" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.008R].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.008R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="9" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.008R" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.008R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="9" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.008R].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.008R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="9" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.008R" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.008R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.008L -->
                                        <TextBlock Grid.Row="10" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.008L].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.008L].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="10" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.008L].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.008L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="10" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.008L" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.008L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="10" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.008L].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.008L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="10" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.008L" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.008L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.013R -->
                                        <TextBlock Grid.Row="11" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.013R].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.013R].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="11" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.013R].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.013R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="11" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.013R" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.013R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="11" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.013R].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.013R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="11" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.013R" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.013R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.013L -->
                                        <TextBlock Grid.Row="12" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.013L].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.013L].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="12" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.013L].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.013L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="12" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.013L" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.013L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="12" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.013L].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.013L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="12" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.013L" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.013L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.024R -->
                                        <TextBlock Grid.Row="13" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.024R].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.024R].Enable, Converter={StaticResource BooleanToVisibility}}" />

                                        <TextBlock Grid.Row="13" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.024R].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.024R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="13" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.024R" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.024R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="13" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.024R].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.024R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="13" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.024R" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.024R].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.024L -->
                                        <TextBlock Grid.Row="14" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[0.024L].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[0.024L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBlock Grid.Row="14" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[0.024L].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[0.024L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="14" Grid.Column="2" Click="MinusButton_Click" CommandParameter="0.024L" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[0.024L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="14" Grid.Column="3" Padding="0 1"
                                                Text="{Binding LotResults[0.024L].Count, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                Visibility="{Binding LotResults[0.024L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="14" Grid.Column="4" Click="PlusButton_Click" CommandParameter="0.024L" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[0.024L].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 開度差 -->
                                        <TextBlock Grid.Row="15" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[bfDiff].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[bfDiff].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBlock Grid.Row="15" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[bfDiff].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[bfDiff].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="15" Grid.Column="2" Click="MinusButton_Click" CommandParameter="bfDiff" Content="{materialDesign:PackIcon Kind=Minus}" />
                                        <TextBox Grid.Row="15" Grid.Column="3" Padding="0 1" Text="{Binding LotResults[bfDiff].Count, Mode=OneWay}"
                                                Visibility="{Binding LotResults[bfDiff].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="15" Grid.Column="4" Click="PlusButton_Click" CommandParameter="bfDiff" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[bfDiff].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 輪廓度 (平面度) -->
                                        <TextBlock Grid.Row="16" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding  LotResults[contour].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[contour].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBlock Grid.Row="16" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[contour].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[contour].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="16" Grid.Column="2" Click="MinusButton_Click" CommandParameter="contour" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[contour].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="16" Grid.Column="3" Padding="0 1" Text="{Binding LotResults[contour].Count, Mode=OneWay}"
                                                Visibility="{Binding LotResults[contour].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="16" Grid.Column="4" Click="PlusButton_Click" CommandParameter="contour" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[contour].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.005MAX 輪廓度 R -->
                                        <TextBlock Grid.Row="17" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding  LotResults[contourR].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[contourR].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBlock Grid.Row="17" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[contourR].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[contourR].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="17" Grid.Column="2" Click="MinusButton_Click" CommandParameter="contourR" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[contourR].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="17" Grid.Column="3" Padding="0 1" Text="{Binding LotResults[contourR].Count, Mode=OneWay}"
                                                Visibility="{Binding LotResults[contourR].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="17" Grid.Column="4" Click="PlusButton_Click" CommandParameter="contourR" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[contourR].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <!--#region 0.005MAX 輪廓度 L-->
                                        <TextBlock Grid.Row="18" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding  LotResults[contourL].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[contourL].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBlock Grid.Row="18" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[contourL].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[contourL].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="18" Grid.Column="2" Click="MinusButton_Click" CommandParameter="contourL" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[contourL].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="18" Grid.Column="3" Padding="0 1" Text="{Binding LotResults[contourL].Count, Mode=OneWay}"
                                                Visibility="{Binding LotResults[contourL].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="18" Grid.Column="4" Click="PlusButton_Click" CommandParameter="contourL" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[contourL].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->

                                        <TextBlock Grid.Row="19" Margin="8 0 0 0" Text="側部" VerticalAlignment="Center" Style="{StaticResource Header}" />
                                        <Separator Grid.Row="20" Grid.ColumnSpan="100" Margin="8 4 0 4" />

                                        <!--#region 平直度 -->
                                        <TextBlock Grid.Row="21" Grid.Column="0" Foreground="{StaticResource ColorError}" Style="{StaticResource ItemText}"
                                                Text="{Binding LotResults[flatness].Name, StringFormat={}{0} 不良}"
                                                Visibility="{Binding LotResults[flatness].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBlock Grid.Row="21" Grid.Column="1" Foreground="{StaticResource ColorGrayTransparent}" Style="{StaticResource ItemNoteText}"
                                                Text="{Binding LotResults[flatness].Note, UpdateSourceTrigger=PropertyChanged}"
                                                Visibility="{Binding LotResults[flatness].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="21" Grid.Column="2" Click="MinusButton_Click" CommandParameter="flatness" Content="{materialDesign:PackIcon Kind=Minus}"
                                                Visibility="{Binding LotResults[flatness].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <TextBox Grid.Row="21" Grid.Column="3" Padding="0 1" Text="{Binding LotResults[flatness].Count, Mode=OneWay}"
                                                Visibility="{Binding LotResults[flatness].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <Button Grid.Row="21" Grid.Column="4" Click="PlusButton_Click" CommandParameter="flatness" Content="{materialDesign:PackIcon Kind=Plus}"
                                                Visibility="{Binding LotResults[flatness].Enable, Converter={StaticResource BooleanToVisibility}}" />
                                        <!--#endregion-->
                                    </Grid>
                                    <!--#endregion-->

                                    <!--#region 3rd row -->
                                    <Button x:Name="TriggerIns" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" Style="{StaticResource MainPanelButton}"
                                            Click="TriggerInspection_Click"
                                            Visibility="{Binding DebugMode, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}, Converter={StaticResource BooleanToVisibility}}">
                                        <Button.IsEnabled>
                                            <MultiBinding Converter="{StaticResource BooleanAndGate}">
                                                <Binding Path="Status" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType=local:MCAJaw, AncestorLevel=1}"
                                                        Converter="{StaticResource NumberInArrayConverter}">
                                                    <Binding.ConverterParameter>
                                                        <x:Array Type="sys:Int32">
                                                            <sys:Int32>1</sys:Int32>
                                                            <sys:Int32>4</sys:Int32>
                                                        </x:Array>
                                                    </Binding.ConverterParameter>
                                                </Binding>
                                                <Binding Path="LotNumberChecked" Source="{StaticResource JawInspection}" UpdateSourceTrigger="PropertyChanged" />
                                            </MultiBinding>
                                        </Button.IsEnabled>

                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="開始檢測" />
                                            <materialDesign:PackIcon Margin="4 0 0 0" VerticalAlignment="Center" Kind="FootPrint" />
                                        </StackPanel>
                                    </Button>

                                    <!--
                                    <Button x:Name="TriggerIns1" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" VerticalContentAlignment="Center"
                                            Height="32" materialDesign:ButtonAssist.CornerRadius="5" Style="{StaticResource MaterialDesignOutlinedButton}"
                                            Click="TriggerInspection_Click">
                                        <Button.IsEnabled>
                                            <MultiBinding Converter="{StaticResource BooleanAndGate}">
                                                <Binding Path="Status" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType=local:MCAJaw, AncestorLevel=1}"
                                                        Converter="{StaticResource NumberInArrayConverter}">
                                                    <Binding.ConverterParameter>
                                                        <x:Array Type="sys:Int32">
                                                            <sys:Int32>1</sys:Int32>
                                                            <sys:Int32>4</sys:Int32>                                     
                                                        </x:Array>
                                                    </Binding.ConverterParameter>
                                                </Binding>
                                                <Binding Path="LotNumberChecked" Source="{StaticResource JawInspection}" UpdateSourceTrigger="PropertyChanged" />
                                            </MultiBinding>
                                        </Button.IsEnabled>

                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock VerticalAlignment="Center" Padding="0 2 0 0" Text="開始檢測" FontSize="{StaticResource BasicFont-lg}" FontWeight="SemiBold" />
                                            <materialDesign:PackIcon Margin="4 0 0 0" VerticalAlignment="Center" Kind="FootPrint" />
                                        </StackPanel>
                                    </Button>
                                    -->

                                    <Button Grid.Row="3" Grid.Column="1" HorizontalAlignment="Right" Style="{StaticResource MainPanelButton}"
                                            Foreground="{StaticResource ColorInfo}" IsEnabled="{Binding LotNumberChecked, Source={StaticResource JawInspection}, Mode=OneWay}"
                                            BorderBrush="{StaticResource ColorInfo}" Click="FinishLot_Click">
                                        <!--#region CommandParameter -->
                                        <Button.CommandParameter>
                                            <DockPanel MaxWidth="300" Margin="16" Background="Transparent">
                                                <DockPanel.Resources>
                                                    <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
                                                        <Setter Property="Foreground" Value="{StaticResource ColorInfo}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource ColorInfo}" />
                                                        <Style.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <!--<Setter Property="Background" Value="{StaticResource col}" />-->
                                                                <Setter Property="Foreground" Value="{StaticResource ColorCyan}" />
                                                                <Setter Property="BorderBrush" Value="{StaticResource ColorCyan}" />
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </DockPanel.Resources>

                                                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0 0 0 12">
                                                    <materialDesign:PackIcon VerticalAlignment="Center" Height="28" Width="28" Margin="0 0 8 0" Kind="InfoCircleOutline"
                                                            Foreground="{StaticResource ColorInfo}" />
                                                    <TextBlock VerticalAlignment="Center" FontSize="{StaticResource Header}" TextWrapping="WrapWithOverflow" Text="是否確認寫入資料庫？" />
                                                </StackPanel>

                                                <Button DockPanel.Dock="Right" HorizontalAlignment="Right" Content="取消"
                                                        Command="{x:Static materialDesign:DialogHost.CloseDialogCommand}">
                                                    <Button.CommandParameter>
                                                        <sys:Boolean>False</sys:Boolean>
                                                    </Button.CommandParameter>
                                                </Button>

                                                <Button DockPanel.Dock="Right" HorizontalAlignment="Right" Margin="12 0" Content="確定" TabIndex="0"
                                                        Command="{x:Static materialDesign:DialogHost.CloseDialogCommand}">
                                                    <Button.CommandParameter>
                                                        <sys:Boolean>True</sys:Boolean>
                                                    </Button.CommandParameter>
                                                </Button>
                                            </DockPanel>
                                        </Button.CommandParameter>
                                        <!--#endregion-->

                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="結批" />
                                            <materialDesign:PackIcon Margin="4 0 0 0" VerticalAlignment="Center" Kind="DatabaseImport" />
                                        </StackPanel>
                                    </Button>
                                    
                                    <!--#endregion-->
                                </Grid>
                            </DockPanel>
                        </materialDesign:Card>
                    </Border>
                    <!--#endregion-->

                    <!--#region Camera 1 -->
                    <GroupBox Header="前部攝影機" Grid.Row="0" Grid.RowSpan="2" Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Padding="8 5"
                            BorderThickness="1 1 0 0" FontSize="{StaticResource Header}" FontWeight="SemiBold" materialDesign:ColorZoneAssist.Mode="Custom"
                            materialDesign:ColorZoneAssist.Background="{StaticResource ColorInfo}" materialDesign:ColorZoneAssist.Foreground="WhiteSmoke" Background="Transparent">
                        <Grid VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="0 -4 0 0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto" />
                                <RowDefinition Height="auto" />
                            </Grid.RowDefinitions>
                            <!--Image 1-->
                            <Border Grid.Row="0" Background="{StaticResource ColorLightGrayTransparent}">
                                <Border.Style>
                                    <Style TargetType="{x:Type Border}">
                                        <Setter Property="Height" Value="240" />
                                        <Style.Triggers>
                                            <DataTrigger
                                                    Binding="{Binding WindowState, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}, Mode=OneWay}"
                                                    Value="Maximized">
                                                <Setter Property="Height" Value="300" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <!--//-->
                                <Viewbox x:Name="Image1Viewbox">
                                    <Image x:Name="Image1" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Center"
                                            Source="{Binding ImageSource1, RelativeSource={RelativeSource AncestorType=Window, Mode=FindAncestor}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}" />
                                </Viewbox>
                            </Border>

                            <!--量測結果列表 1-->
                            <ctrl:InsResultsView Grid.Row="1" AutoCreateHeader="True" Margin="0 4 0 0" VerticalAlignment="Top"
                                    ScrollViewerStyle="{StaticResource ScrollViewerPrimary}" Focusable="False"
                                    ItemsSource="{Binding Collection1, Source={StaticResource SpecGroup}}">
                            </ctrl:InsResultsView>
                        </Grid>
                    </GroupBox>
                    <!--#endregion-->

                    <!--#region Camera 2 -->
                    <GroupBox Header="下部攝影機" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Padding="8 5" BorderThickness="1 1 0 0"
                            FontSize="{StaticResource Header}" FontWeight="SemiBold" materialDesign:ColorZoneAssist.Mode="Custom"
                            materialDesign:ColorZoneAssist.Background="{StaticResource ColorIndigo}" materialDesign:ColorZoneAssist.Foreground="WhiteSmoke" Background="Transparent">
                        <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="0 -4 0 0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto" />
                                <RowDefinition Height="1*" />
                            </Grid.RowDefinitions>
                            <!--Image 2-->
                            <Border Grid.Row="0" Background="{StaticResource ColorLightGrayTransparent}">
                                <Border.Style>
                                    <Style TargetType="{x:Type Border}">
                                        <Setter Property="Height" Value="240" />
                                        <Style.Triggers>
                                            <DataTrigger
                                                    Binding="{Binding WindowState, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}, Mode=OneWay}"
                                                    Value="Maximized">
                                                <Setter Property="Height" Value="300" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <!--//-->
                                <Viewbox x:Name="Image2Viewbox">
                                    <Image x:Name="Image2" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Center"
                                            Source="{Binding ImageSource2, RelativeSource={RelativeSource AncestorType=Window, Mode=FindAncestor}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}" />
                                </Viewbox>
                            </Border>

                            <!-- 量測結果列表 2-->
                            <ctrl:InsResultsView Grid.Row="1" AutoCreateHeader="True" Margin="0 4 0 0" VerticalAlignment="Stretch"
                                    ScrollViewerStyle="{StaticResource ScrollViewerPrimary}" Focusable="False"
                                    ItemsSource="{Binding Collection2, Source={StaticResource SpecGroup}}">
                            </ctrl:InsResultsView>
                        </Grid>
                    </GroupBox>
                    <!--#endregion-->

                    <!--#region Camera 3 -->
                    <GroupBox Header="側面攝影機" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Padding="8 5" BorderThickness="1 1 0 0"
                            FontSize="{StaticResource Header}" FontWeight="SemiBold" materialDesign:ColorZoneAssist.Mode="Custom"
                            materialDesign:ColorZoneAssist.Background="{StaticResource ColorDeepPurple}" materialDesign:ColorZoneAssist.Foreground="WhiteSmoke"
                            Background="Transparent">
                        <!--<StackPanel Orientation="Vertical" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="0 -4 0 0">-->
                        <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="0 -4 0 0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto" />
                                <RowDefinition Height="1*" />
                            </Grid.RowDefinitions>
                            <!--Image 3-->
                            <Border Grid.Row="0" Background="{StaticResource ColorLightGrayTransparent}">
                                <Border.Style>
                                    <Style TargetType="{x:Type Border}">
                                        <Setter Property="Height" Value="160" />
                                        <Style.Triggers>
                                            <DataTrigger
                                                    Binding="{Binding WindowState, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}, Mode=OneWay}"
                                                    Value="Maximized">
                                                <Setter Property="Height" Value="200" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <!--//-->
                                <Viewbox x:Name="Image3Viewbox">
                                    <Image x:Name="Image3" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Center"
                                            Source="{Binding ImageSource3, RelativeSource={RelativeSource AncestorType=Window, Mode=FindAncestor}, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}" />
                                </Viewbox>
                            </Border>

                            <!--量測結果列表 3-->
                            <ctrl:InsResultsView Grid.Row="1" AutoCreateHeader="True" Margin="0 4 0 0" VerticalAlignment="Stretch"
                                    ScrollViewerStyle="{StaticResource ScrollViewerPrimary}" Focusable="False"
                                    ItemsSource="{Binding Collection3, Source={StaticResource SpecGroup}}">
                                <!--
                                <ctrl:SpecListView.Style>
                                    <Style TargetType="ctrl:SpecListView">
                                        <Setter Property="ScrollViewerHeight" Value="120"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource AncestorType={x:Type Window}, Mode=FindAncestor}, Mode=OneWay}" Value="Maximized">
                                                <Setter Property="ScrollViewerHeight" Value="237"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ctrl:SpecListView.Style>
                                -->
                            </ctrl:InsResultsView>
                        </Grid>
                        <!--</StackPanel>-->
                    </GroupBox>
                    <!--#endregion-->

                    <!--
                        <Border Grid.Row="0" Grid.Column="1" BorderThickness="1 0 0 0" BorderBrush="{StaticResource ColorGrayTransparent}" Background="{StaticResource ColorErrorTransparent}"/>
                        <Border Grid.Row="0" Grid.Column="2" BorderThickness="1 0 0 0" BorderBrush="{StaticResource ColorGrayTransparent}" Background="{StaticResource ColorSuccessTransparent}"/>
                        <Border Grid.Row="1" Grid.ColumnSpan="3" BorderThickness="0 1 0 0" BorderBrush="{StaticResource ColorGrayTransparent}" Background="{StaticResource ColorPrimaryTransparent}"/>
                    -->
                </Grid>
            </Border>
        </TabItem>
        <!--#endregion-->

        <!--#region Tab2 -->
        <TabItem Header="{x:Null}" Height="0" Margin="0" 
                 IsEnabled="{Binding AuthLevel, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}, Converter={StaticResource NumberGreaterConvert}, ConverterParameter=2, UpdateSourceTrigger=PropertyChanged}">
                 <!--IsEnabled="{Binding LoginFlag, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window, AncestorLevel=1}, UpdateSourceTrigger=PropertyChanged}"-->
            <local:SizeSpecSubTab x:Name="SizeSpecSubTab" DataContext="{StaticResource JawSizeSpecList}" />
        </TabItem>
        <!--#endregion-->
    </TabControl>
</StackPanel>
